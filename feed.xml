<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en"><generator uri="https://jekyllrb.com/" version="4.3.2">Jekyll</generator><link href="https://malingaperera.github.io/feed.xml" rel="self" type="application/atom+xml"/><link href="https://malingaperera.github.io/" rel="alternate" type="text/html" hreflang="en"/><updated>2023-11-11T10:54:01+00:00</updated><id>https://malingaperera.github.io/feed.xml</id><title type="html">Romesh Malinga Perera</title><subtitle>Human | Engineer | Researcher </subtitle><entry><title type="html">Updated 2022 Nov - Water Bill Calculator – Sri Lanka</title><link href="https://malingaperera.github.io/water-bill-calculator-sri-lanka/" rel="alternate" type="text/html" title="Updated 2022 Nov - Water Bill Calculator – Sri Lanka"/><published>2022-11-11T21:01:00+00:00</published><updated>2022-11-11T21:01:00+00:00</updated><id>https://malingaperera.github.io/water-bill-calculator-sri-lanka</id><content type="html" xml:base="https://malingaperera.github.io/water-bill-calculator-sri-lanka/"><![CDATA[<div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/water-bill-calculator-sri-lanka/water-bill-calculator-sri-lanka-480.webp"/> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/water-bill-calculator-sri-lanka/water-bill-calculator-sri-lanka-800.webp"/> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/water-bill-calculator-sri-lanka/water-bill-calculator-sri-lanka-1400.webp"/> <img src="/assets/img/water-bill-calculator-sri-lanka/water-bill-calculator-sri-lanka.png" class="img-fluid rounded z-depth-1 mx-auto d-block" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <p>Most people got huge water bills after some time due to COVID-19. I wanted to double-check the calculation because the amount was somewhat big. Unlucky I didn’t find any online calculator that gets the job done (there was one in the waterboard, but it has a maximum limit of 60 days). So I went with the default option, Excel. I thought of sharing the excel workbook I used as It might be helpful to others. I really don’t know how the VAT calculation is done, so I used 15%. (Thanks to Madura for the suggested edit)</p> <p>Download the <a href="https://malingaperera.github.io/assets/pdf/water-bill-calculator-sri-lanka/Water-Bill-Calculator-8.xlsx">Water Bill Calculator</a></p> <p>These are the supporting document I used.</p> <p>Download <a href="https://malingaperera.github.io/assets/pdf/water-bill-calculator-sri-lanka/Water-Tariff-2294-51_English.pdf">Gazette for water tariff</a></p>]]></content><author><name></name></author><category term="other"/><category term="life"/><category term="other"/><summary type="html"><![CDATA[Updated 2022 Nov - Water Bill Calculator – Sri Lanka]]></summary></entry><entry><title type="html">SLGS Scholarship Program 2021</title><link href="https://malingaperera.github.io/slgs-scholarship-program-2021/" rel="alternate" type="text/html" title="SLGS Scholarship Program 2021"/><published>2021-11-14T00:00:00+00:00</published><updated>2021-11-14T00:00:00+00:00</updated><id>https://malingaperera.github.io/slgs-scholarship-program-2021</id><content type="html" xml:base="https://malingaperera.github.io/slgs-scholarship-program-2021/"><![CDATA[<div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/images/SLGS-Scholarship-Program-Malinga-Perera-724x1024-480.webp"/> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/images/SLGS-Scholarship-Program-Malinga-Perera-724x1024-800.webp"/> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/images/SLGS-Scholarship-Program-Malinga-Perera-724x1024-1400.webp"/> <img src="/assets/images/SLGS-Scholarship-Program-Malinga-Perera-724x1024.jpeg" class="img-fluid rounded z-depth-1 mx-auto d-block" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <p>The Sri Lankan Graduates’ Society (SLGS) is a postgraduate society affiliated with the Graduate Student Association (GSA) at the University of Melbourne, Australia. We aim to advocate for the welfare of Sri Lankan graduate students and promote our culture and heritage among the multicultural community of the University, whilst also being committed to supporting undergraduate students in Sri Lanka. As part of our ongoing initiatives, we have strived to continue an annual scholarship program through which we award Sri Lankan undergraduate students a monthly scholarship for a period of one year. The main objective of this program is to financially assist and encourage students to achieve their academic goals.</p> <p>Over the years we have been able to raise sponsorships for more than 10 students which we can assure were of great support to the recipients. You can read the testimonials of the recent scholarship recipients in the flyer attached below and on our <a href="https://www.slgs.com.au/academic-scholarships-by-the-slgs/">website</a>. The recipients of the scholarships are selected based on their financial needs as well as their outstanding academic performance at the university. In 2021, the SLGS provided two scholarships worth LKR 120,000/-. Considering the multitude of applications we receive each year, we hope we can expand the number of scholarships provided under this program with your support. </p> <p>We are kindly inviting you to join hands with the SLGS on this great cause to brighten the future of talented young individuals in Sri Lanka. We hope this program would offer you the great joy and satisfaction of being able to give back to our motherland. You can support us by selecting one of the following support packages.</p> <ul> <li>Support a student for a year <strong>AUD 400</strong></li> <li>Support a student for 6 months <strong>AUD 200</strong></li> <li>Support a student for 3 months <strong>AUD 100</strong></li> <li>Support a student for a month <strong>AUD 35</strong></li> </ul> <p>Your kind donations can be made to either of the SLGS bank accounts given below. Please send us an email with your receipt to <a href="mailto:slgsunimelb@gmail.com">slgsunimelb@gmail.com</a>. </p> <p><strong>In Australia:</strong><br/> Account Name: <strong>Sri Lankan Graduates’ Society</strong><br/> Account No: <strong>1092 0366</strong><br/> BSB: <strong>063 238</strong><br/> Reference: <strong>SLGS Scholarship</strong></p> <p>Please feel free to contact us for further information regarding the scholarships or other funding opportunities.</p> <p>Email:  <a href="mailto:slgsunimelb@gmail.com">slgsunimelb@gmail.com</a></p> <p>Contact:  Co-Presidents Chinthani / Malinga</p>]]></content><author><name></name></author><category term="life"/><category term="slgs"/><summary type="html"><![CDATA[SLGS Scholarship Program 2021]]></summary></entry><entry><title type="html">SQL Server Snapshot Creation Error - “All files must be specified for database snapshot creation”</title><link href="https://malingaperera.github.io/sql-server-snapshot-creation-error-all-files-must-be-specified-for-database-snapshot-creation/" rel="alternate" type="text/html" title="SQL Server Snapshot Creation Error - “All files must be specified for database snapshot creation”"/><published>2021-10-04T00:00:00+00:00</published><updated>2021-10-04T00:00:00+00:00</updated><id>https://malingaperera.github.io/sql-server-snapshot-creation-error-all-files-must-be-specified-for-database-snapshot-creation</id><content type="html" xml:base="https://malingaperera.github.io/sql-server-snapshot-creation-error-all-files-must-be-specified-for-database-snapshot-creation/"><![CDATA[<div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/images/All-files-must-be-specified-for-database-snapshot-creation.-1-480.webp"/> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/images/All-files-must-be-specified-for-database-snapshot-creation.-1-800.webp"/> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/images/All-files-must-be-specified-for-database-snapshot-creation.-1-1400.webp"/> <img src="/assets/images/All-files-must-be-specified-for-database-snapshot-creation.-1.png" class="img-fluid rounded z-depth-1 mx-auto d-block" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <p>There are several reasons where you will get this error, but I’m going to talk about the one I faced and can be fixed in seconds. I was working with an IMDB dataset. The reason for my error was a database rename. I created the database initially with the name “IMDB” and later renamed it to “IMDB_001”.</p> <p>Command:</p> <p><code class="language-plaintext highlighter-rouge">CREATE DATABASE IMDB_001_snapshot ON ( NAME = IMDB_001, FILENAME ='--path--\IMDB_001_snapshot.ss' ) AS SNAPSHOT OF IMDB_001;</code></p> <p>Error: All files must be specified for database snapshot creation. Missing the file “IMDB”. (5127) (SQLExecDirectW)’)</p> <p>Fix (Using SSMS):</p> <p>Right-click on the database &gt; Properties &gt; (left menu)Files &gt; Rename the file logical names to current database name (in my case to IMDB_001)</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/images/All-files-must-be-specified-for-database-snapshot-creation-480.webp"/> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/images/All-files-must-be-specified-for-database-snapshot-creation-800.webp"/> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/images/All-files-must-be-specified-for-database-snapshot-creation-1400.webp"/> <img src="/assets/images/All-files-must-be-specified-for-database-snapshot-creation.jpg" class="img-fluid rounded z-depth-1 mx-auto d-block" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div>]]></content><author><name></name></author><category term="database"/><category term="microsoft"/><category term="sql-server"/><summary type="html"><![CDATA[SQL Server Snapshot Creation Error - "All files must be specified for database snapshot creation"]]></summary></entry><entry><title type="html">Codenames Duet Editable Digital Mission Map</title><link href="https://malingaperera.github.io/codenames-duet-editable-digital-map/" rel="alternate" type="text/html" title="Codenames Duet Editable Digital Mission Map"/><published>2021-09-30T00:00:00+00:00</published><updated>2021-09-30T00:00:00+00:00</updated><id>https://malingaperera.github.io/codenames-duet-editable-digital-map</id><content type="html" xml:base="https://malingaperera.github.io/codenames-duet-editable-digital-map/"><![CDATA[<div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/images/Codenames-duet-digital-map-malinga-me-1-480.webp"/> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/images/Codenames-duet-digital-map-malinga-me-1-800.webp"/> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/images/Codenames-duet-digital-map-malinga-me-1-1400.webp"/> <img src="/assets/images/Codenames-duet-digital-map-malinga-me-1.jpg" class="img-fluid rounded z-depth-1 mx-auto d-block" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <p><em><strong>Codenames Duet</strong></em> keeps the basic elements of <em>Codenames</em> — give one-word clues to try to get someone to identify your agents among those on the table — but now you’re working together as a team to find all of your agents. (Why you don’t already know who your agents are is a question that Congressional investigators will get on your back about later!) - <a href="https://boardgamegeek.com/boardgame/224037/codenames-duet">BoardGamesGeek</a></p> <p>I found it easy to have a digital map when you are playing an online version (ex: https://codenames.game/). This map can keep your status (editable).</p> <p><strong>How to use:</strong> Each mission has two parameters. The first number is the total number of turns. When setting up a mission, put this many tokens in the time bank and leave the rest in the box. Moscow uses only 8, while Berlin uses all 11. Cairo uses 9, just like the standard Prague mission. The second number is the number of acceptable mistakes. Only this many tokens are bystander side up. - <em>Rule Book</em></p> <p><a href="https://www.malinga.me/wp-content/uploads/2021/09/Codenames-duet-digital-map-malinga-me.pdf"><strong>Download the Codenames Duet Editable Digital Mission Map</strong></a><a href="https://www.malinga.me/wp-content/uploads/2021/09/Codenames-duet-digital-map-malinga-me.pdf"> Download</a></p>]]></content><author><name></name></author><category term="boardgames"/><category term="codenames"/><summary type="html"><![CDATA[Codenames Duet Editable Digital Mission Map]]></summary></entry><entry><title type="html">Sri Lankan New Year 2021, Sri Lankan Graduates’ Society (SLGS)</title><link href="https://malingaperera.github.io/sri-lankan-new-year-2021-slgs/" rel="alternate" type="text/html" title="Sri Lankan New Year 2021, Sri Lankan Graduates’ Society (SLGS)"/><published>2021-05-02T00:00:00+00:00</published><updated>2021-05-02T00:00:00+00:00</updated><id>https://malingaperera.github.io/sri-lankan-new-year-2021-slgs</id><content type="html" xml:base="https://malingaperera.github.io/sri-lankan-new-year-2021-slgs/"><![CDATA[<p>The Sri Lankan Graduates’ Society (SLGS) of the University of Melbourne organized “අවුරුදු උදානය 2021” to celebrate the Sri Lankan New Year 2021. Below are some clicks from my camera.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/images/DSC_0134-scaled-480.webp"/> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/images/DSC_0134-scaled-800.webp"/> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/images/DSC_0134-scaled-1400.webp"/> <img src="/assets/images/DSC_0134-scaled.jpg" class="img-fluid rounded z-depth-1 mx-auto d-block" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div>]]></content><author><name></name></author><category term="life"/><category term="life"/><category term="slgs"/><summary type="html"><![CDATA[Sri Lankan New Year 2021, Sri Lankan Graduates’ Society (SLGS)]]></summary></entry><entry><title type="html">VS Code Won’t Open After Unplanned Restart (Failed to deserialize the V8 snapshot blob)</title><link href="https://malingaperera.github.io/vs-code-wont-open-after-unplanned-restart-failed-to-deserialize-the-v8-snapshot-blob/" rel="alternate" type="text/html" title="VS Code Won’t Open After Unplanned Restart (Failed to deserialize the V8 snapshot blob)"/><published>2021-02-11T21:01:00+00:00</published><updated>2021-02-11T21:01:00+00:00</updated><id>https://malingaperera.github.io/vs-code-wont-open-after-unplanned-restart-failed-to-deserialize-the-v8-snapshot-blob</id><content type="html" xml:base="https://malingaperera.github.io/vs-code-wont-open-after-unplanned-restart-failed-to-deserialize-the-v8-snapshot-blob/"><![CDATA[<div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/vs_code_wont_open/vs_code_wont_open-480.webp"/> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/vs_code_wont_open/vs_code_wont_open-800.webp"/> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/vs_code_wont_open/vs_code_wont_open-1400.webp"/> <img src="/assets/img/vs_code_wont_open/vs_code_wont_open.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <p>The visual studio was running fine in my machine till an unplanned restart happened. Soon after restart VS didn’t open giving me the below error. I reinstalled the Visual Studio Code without uninstalling which fixed the issue. In addition, it started without any loss to previous plugins and open projects. Error</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Fatal error in , line 0
Failed to deserialize the V8 snapshot blob. This can mean that the snapshot blob file is corrupted or missing.
FailureMessage Object: 00000071D3DFF2C0
1: 00007FF60A57E91F node::Buffer::New+130911
2: 00007FF60A3F7CDA IsSandboxedProcess+1850986
3: 00007FF608E1D798 v8::Isolate::Initialize+744
4: 00007FF60A3FD1A0 uv_mutex_unlock+21184
5: 00007FF607A28793 std::__1::__vector_base &gt;::__end_cap+102515
6: 00007FF607AE56C8 v8::internal::JSMemberBase::JSMemberBase+54872
7: 00007FF6079513A0 Ordinal0+5024
8: 00007FF60D6FDB02 uv_random+18066594
9: 00007FFB77EF4034 BaseThreadInitThunk+20
10: 00007FFB781F3691 RtlUserThreadStart+33
</code></pre></div></div>]]></content><author><name></name></author><category term="programming"/><category term="coding"/><category term="programming"/><category term="tools"/><summary type="html"><![CDATA[VS Code Won’t Open After Unplanned Restart (Failed to deserialize the V8 snapshot blob)]]></summary></entry><entry><title type="html">[Scrum] Adding new priorities to the current sprint</title><link href="https://malingaperera.github.io/scrum-adding-new-priorities-to-the-current-sprint/" rel="alternate" type="text/html" title="[Scrum] Adding new priorities to the current sprint"/><published>2021-01-20T00:00:00+00:00</published><updated>2021-01-20T00:00:00+00:00</updated><id>https://malingaperera.github.io/scrum-adding-new-priorities-to-the-current-sprint</id><content type="html" xml:base="https://malingaperera.github.io/scrum-adding-new-priorities-to-the-current-sprint/"><![CDATA[<div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/images/Scrum-Adding-new-priorities-to-the-current-sprint1-480.webp"/> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/images/Scrum-Adding-new-priorities-to-the-current-sprint1-800.webp"/> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/images/Scrum-Adding-new-priorities-to-the-current-sprint1-1400.webp"/> <img src="/assets/images/Scrum-Adding-new-priorities-to-the-current-sprint1.jpg" class="img-fluid rounded z-depth-1 mx-auto d-block" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <p>We see changes in priorities from time to time. With the nature of the team, we need to expect newer priorities even in the middle of a sprint. New priorities can come as a production issue or a new feature development with higher ROI. I work in a service team where we get high priority items all the time. I like to talk about how we handle those issues in this article.</p> <h2 id="what-is-the-ideal-way-to-handle-additional-requirements-real-scrum-way">What is the ideal way to handle Additional Requirements [real scrum way]</h2> <blockquote> <p>Once a sprint begins, you cannot add requirements or stories to the backlog</p> </blockquote> <p>It is simple as above; We cannot add additional requirements to the sprint after it begins. In an ideal world, if we do not obey at least one Scrum rule, we cannot claim that we are following Scrum. Therefore, if we need to align to pure Scrum, we need to close the current sprint, prioritize the backlog, and start a new sprint with a new priority list.</p> <h2 id="ideal-way-doesnt-seems-to-be-efficient-for-us">Ideal way doesn’t seems to be efficient for us</h2> <p>As we already know, there are so many hybrid versions of scrum due to scrum being inefficient in some situations. In our case, all members get some ad-hoc tasks while some team members get many ad-hoc tasks (related database administration). Therefore, we decided to fork out the original scrum and make an efficient version of it.</p> <p>We tried so many things, and I like to share some of the things we tried and how they worked out for us. Please remember that not all of us were fully cross-functional because we were new to pure scrum.</p> <h4 id="solution-1-identify-a-member-that-can-attend-most-of-those-ad-hoc-tasks-and-keep-him-out-of-the-sprint">Solution 1: Identify a member that can attend most of those ad-hoc tasks and keep him out of the sprint</h4> <p>IInitially, this seemed to work well, and there was less effect on the current sprint from the ad-hoc tasks. However, with time, we identify that even though there is a separate person for ad-hoc tasks, he needed help from the others. At the same time, we saw that he was idle on some occasions where there was enough work in the sprint backlog. Moreover, as he was out of the sprint, it was hard to keep track of him. With all those drawbacks, we decided to get him back into the sprint and search for other options.</p> <h4 id="solution-2-estimating-the-ad-hoc-work-in-the-panning-and-have-a-story-for-it">Solution 2: Estimating the ad-hoc work in the panning and have a story for it</h4> <p>Our next move was to calculate the time the person mentioned above spent on the ad-hoc tasks and estimate it in the planning meeting. Here we created an ad-hoc story for several members and tried to estimate them with our knowledge from the past sprints. We hoped that we would better estimate future sprints with experience. Unfortunately, we identified that this ad-hoc task estimate was wrong and changed drastically from sprint to sprint.</p> <h4 id="solution-3-limiting-the-sprint-length-to-one-week">Solution 3: Limiting the sprint length to one week</h4> <p>Limiting the sprint length to one week was one of the best decisions we ever made. We could hold most of the ad-hoc tasks to the next sprint with this change. Most people agreed to wait for 3-4 days to get the task done. Still, some tickets required immediate attention (e.g. high critical production issues). With this change, we observed that deviation in the estimates in the ad-hoc task ticket was reduced. After this, following the Scrum practices were very much simplified.</p> <h4 id="solution-4-removing-the-ad-hoc-story-from-the-sprint">Solution 4: Removing the ad-hoc story from the sprint</h4> <p>We saw that the ad-hoc task had some advert effect on the burn-down and velocity charts. Some sprints did not have a lot of ad-hoc tasks, but the total estimate was counted in the velocity. In addition, these stories did not have clear and well-defined DoDs (Definition of Done ). Therefore, we decided to keep the ad-hoc story out of the sprint and let the velocity fall to some extent. Here some members worked on the ad-hoc tasks and tracked the ad-hoc story. However, this story was not be counted in the team velocity as it was out of the sprint.</p> <h2 id="conclusion">Conclusion</h2> <p>With many changes and experiments, we decided to keep some changes and decided to revert some. Finally, we went with 1-week sprints and had an ad-hoc story to track the ad-hoc tasks outside the sprint. Other than that, we took several actions to ensure we had minimum ad-hoc tasks.</p> <ol> <li>Building good communication channels with other teams and getting to know about the upcoming changes before the planning meeting</li> <li>Notifying all other teams that we are following Scrum and not accepting any tickets after the planning meeting. (Not entirely true)</li> </ol> <p>We cannot call this SCRUM anymore. However, this version of SCRUM seems to work for us, and it helped us follow other scrum-related ceremonies and traditions perfectly. We came close to Scrum by going a little away from pure Scrum.</p>]]></content><author><name></name></author><category term="software-engineering"/><category term="scrum"/><summary type="html"><![CDATA[[Scrum] Adding new priorities to the current sprint]]></summary></entry><entry><title type="html">PostgreSQL – BULK INSERTING from a delimited file, Most common errors in Windows</title><link href="https://malingaperera.github.io/postgresql-bulk-inserting-from-a-delimited-file-most-common-errors-in-windows/" rel="alternate" type="text/html" title="PostgreSQL – BULK INSERTING from a delimited file, Most common errors in Windows"/><published>2021-01-20T00:00:00+00:00</published><updated>2021-01-20T00:00:00+00:00</updated><id>https://malingaperera.github.io/postgresql-bulk-inserting-from-a-delimited-file-most-common-errors-in-windows</id><content type="html" xml:base="https://malingaperera.github.io/postgresql-bulk-inserting-from-a-delimited-file-most-common-errors-in-windows/"><![CDATA[<div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/images/postgresql-bulk-inserting-from-a-delimited-file-most-common-errors-in-windows-480.webp"/> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/images/postgresql-bulk-inserting-from-a-delimited-file-most-common-errors-in-windows-800.webp"/> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/images/postgresql-bulk-inserting-from-a-delimited-file-most-common-errors-in-windows-1400.webp"/> <img src="/assets/images/postgresql-bulk-inserting-from-a-delimited-file-most-common-errors-in-windows.png" class="img-fluid rounded z-depth-1 mx-auto d-block" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <p>PostgreSQL alternative for MS SQL Server BULK INSERT is the equally simple <a href="https://www.postgresql.org/docs/current/sql-copy.html">COPY</a> command. In this article, we are going to take a step by step look at how to use this and possible errors. So I tried below command, which is completely correct. I faced a couple of issues when fixed it worked fine.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>COPY part FROM '...Desktop\TPCH_001\pg_part.tbl' WITH (DELIMITER  '|')
</code></pre></div></div> <h2 id="errors"><strong>Errors</strong></h2> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ERROR: could not open file "file.tbl" for reading: Permission denied.
HINT:  COPY FROM instructs the PostgreSQL server process to read a file.  You may want a client-side facility such as psql's \copy. 
SQL state: 42501
</code></pre></div></div> <p>To resolve this error, you need to update the permission of the file so that PostgreSQL can read them. Get to the folder/file, right-click and get to properties. Go to the Security tab. You need to add “Everyone” to the list. <a href="https://ourtechroom.com/tech/importing-csv-file-in-postgresql-table/">More info</a></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ERROR:  extra data after last expected column data ending with dilimiter
</code></pre></div></div> <p>This mean you have more columns the CSV than expected. As example you might have 4 column in CSV file and only 3 columns in the table. If it was other way around (table having more columns than file) we can define the needed columns in the query like below.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>COPY part (p_partkey, p_name, p_mfgr, p_brand, p_type, p_size, p_container, p_retailprice, p_comment) FROM '...Desktop\TPCH_001\pg_part.tbl' WITH (DELIMITER  '|')
</code></pre></div></div> <p>In my case, I used a simple python file to edit the files and write a new file. Yes! the only option is to edit the file. In my case I had a extra delimiter at the end of each line.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>import os
from os import listdir
from os.path import isfile, join


data_location = "path_to_folder"
files = [f for f in listdir(data_location) if isfile(join(data_location, f))]
output_folder = "edited"

if not os.path.exists(os.path.join(data_location, output_folder)):
    os.makedirs(os.path.join(data_location, output_folder))

for file in files:
    with open(os.path.join(data_location, file), 'r+') as input_file, open(os.path.join(data_location, output_folder, file), 'w+') as output_file:
        line = input_file.readline()
        while line:
            output_file.write(line[:-2]+'\n')
            line = input_file.readline()
</code></pre></div></div> <p>After these 2 fixes, my command ran without any issue.</p>]]></content><author><name></name></author><category term="database"/><category term="microsoft"/><category term="postgresql"/><summary type="html"><![CDATA[PostgreSQL – BULK INSERTING from a delimited file, Most common errors in Windows]]></summary></entry><entry><title type="html">UVA 893 - Y3K Problem: Handling Python years above 9999</title><link href="https://malingaperera.github.io/uva-893-y3k-problem-handling-python-years-above-9999/" rel="alternate" type="text/html" title="UVA 893 - Y3K Problem: Handling Python years above 9999"/><published>2020-11-11T00:00:00+00:00</published><updated>2020-11-11T00:00:00+00:00</updated><id>https://malingaperera.github.io/uva-893-y3k-problem-handling-python-years-above-9999</id><content type="html" xml:base="https://malingaperera.github.io/uva-893-y3k-problem-handling-python-years-above-9999/"><![CDATA[<div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/images/UVA-893-Y3K-Problem-Handling-Python-years-above-9999-480.webp"/> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/images/UVA-893-Y3K-Problem-Handling-Python-years-above-9999-800.webp"/> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/images/UVA-893-Y3K-Problem-Handling-Python-years-above-9999-1400.webp"/> <img src="/assets/images/UVA-893-Y3K-Problem-Handling-Python-years-above-9999.png" class="img-fluid rounded z-depth-1 mx-auto d-block" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <p>I was working on a problem in UVA online judge where I needed to do a simple data addition. However, the catch was year can go beyond 9999 (which is the limit in python). Below code is the python solution for this problem. I simply divided the date-delta with (1200 years, i.e. 438291 days) and added it separately after the computation. If you have unclear areas, let me know in the comments.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>import datetime
from sys import stdin

div = 438291
for line in stdin:
    delta, d, m, y = map(int, line.split()[:4])
    if d != 0:
        a = int(delta / div)
        delta3 = delta % div
        d_2000 = datetime.date(day=1, month=1, year=2000)
        d_start = datetime.date(day=d, month=m, year=y)
        delta2 = (d_2000 - d_start).days
        delta3 -= delta2
        d_end = d_2000 + datetime.timedelta(days=delta3)
        print(d_end.day, d_end.month, d_end.year + a * 1200)
    else:
        exit(0)
</code></pre></div></div> <p>[1] Date and Time by Mask Icon from the Noun Project</p>]]></content><author><name></name></author><category term="competitive-programming"/><category term="python"/><category term="uva"/><summary type="html"><![CDATA[UVA 893 - Y3K Problem: Handling Python years above 9999]]></summary></entry><entry><title type="html">DBA bandits: Self-driving index tuning under ad-hoc, analytical workloads with safety guarantees</title><link href="https://malingaperera.github.io/dba-bandits-self-driving-index-tuning-under-ad-hoc-analytical-workloads-with-safety-guarantees/" rel="alternate" type="text/html" title="DBA bandits: Self-driving index tuning under ad-hoc, analytical workloads with safety guarantees"/><published>2020-10-26T00:00:00+00:00</published><updated>2020-10-26T00:00:00+00:00</updated><id>https://malingaperera.github.io/dba-bandits-self-driving-index-tuning-under-ad-hoc-analytical-workloads-with-safety-guarantees</id><content type="html" xml:base="https://malingaperera.github.io/dba-bandits-self-driving-index-tuning-under-ad-hoc-analytical-workloads-with-safety-guarantees/"><![CDATA[<div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/images/DBA-Bandit-Self-driving-index-tuning-under-ad-hoc-analytical-workloads-with-safety-guarantees-480.webp"/> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/images/DBA-Bandit-Self-driving-index-tuning-under-ad-hoc-analytical-workloads-with-safety-guarantees-800.webp"/> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/images/DBA-Bandit-Self-driving-index-tuning-under-ad-hoc-analytical-workloads-with-safety-guarantees-1400.webp"/> <img src="/assets/images/DBA-Bandit-Self-driving-index-tuning-under-ad-hoc-analytical-workloads-with-safety-guarantees.png" class="img-fluid rounded z-depth-1 mx-auto d-block" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <h4 id="abstract"><strong>Abstract:</strong></h4> <p>“Automating physical database design has remained a long-term interest in database research due to substantial performance gains afforded by optimised structures. Despite significant progress, a majority of today’s commercial solutions are highly manual, requiring offline invocation by database administrators (DBAs) who are expected to identify and supply representative training workloads. Unfortunately, the latest advancements like query stores provide only limited support for dynamic environments. This status quo is untenable: identifying representative static workloads is no longer realistic; and physical design tools remain susceptible to the query optimiser’s cost misestimates (stemming from unrealistic assumptions such as attribute value independence and uniformity of data distribution). We propose a self-driving approach to online index selection that eschews the DBA and query optimiser, and instead learns the benefits of viable structures through strategic exploration and direct performance observation. We view the problem as one of sequential decision making under uncertainty, specifically within the bandit learning setting. Multi-armed bandits balance exploration and exploitation to provably guarantee average performance that converges to a fixed policy that is optimal with perfect hindsight. Our comprehensive empirical results demonstrate up to 75% speed-up on shifting and ad-hoc workloads and 28% speed-up on static workloads compared against a state-of-the-art commercial tuning tool.” [1]</p> <p>[1] Full Paper: <a href="https://arxiv.org/abs/2010.09208">https://arxiv.org/abs/2010.09208</a></p>]]></content><author><name></name></author><category term="database"/><category term="bandits"/><category term="database"/><category term="index-tuning"/><category term="machine-learning"/><summary type="html"><![CDATA[DBA bandits: Self-driving index tuning under ad-hoc, analytical workloads with safety guarantees]]></summary></entry></feed>